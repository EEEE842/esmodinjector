<!DOCTYPE html>
<html>
<head>
  <title>Mod Menu Injector</title>
  <style>
    body {
      background: #ffffff;
      color: #000000;
      font-family: system-ui, sans-serif;
      text-align: center;
      padding-top: 60px;
    }

    h1 {
      font-size: 32px;
      margin-bottom: 10px;
    }

    select {
      padding: 10px;
      font-size: 16px;
      margin: 15px;
    }

    a {
      display: inline-block;
      padding: 14px 26px;
      margin-top: 20px;
      border: 2px solid #000;
      color: #000;
      text-decoration: none;
      font-size: 18px;
      cursor: grab;
    }

    a:hover {
      background: #000;
      color: #fff;
    }
  </style>
</head>
<body>

<h1>Scratch Mod Menu Injector</h1>
<p>Select a menu, then drag the button to your bookmarks bar.</p>

<select id="menu" onchange="update()">
  <option value="https://raw.githubusercontent.com/EEEE842/test/main/test.sb3">
    Nova Menu
  </option>

  <option value="https://raw.githubusercontent.com/EEEE842/test/main/another.sb3">
    Another Menu
  </option>

  <option value="https://raw.githubusercontent.com/EEEE842/test/main/dev.sb3">
    Dev / Test Menu
  </option>
</select>

<br>

<a id="bm">Inject Menu</a>

<script>
function update() {
  const sb3 = document.getElementById("menu").value;

  const bookmarklet =
    `javascript:(function(){
      fetch("https://raw.githubusercontent.com/EEEE842/test/main/injector.js")
        .then(r=>r.text())
        .then(code=>{
          eval(code.replace(
            /const PROJECT_URL =[^;]+;/,
            'const PROJECT_URL = "' + sb3 + '";'
          ));
        });
    })();`;

  document.getElementById("bm").href = bookmarklet;
}

// init on load
update();
</script>

</body>
</html>
